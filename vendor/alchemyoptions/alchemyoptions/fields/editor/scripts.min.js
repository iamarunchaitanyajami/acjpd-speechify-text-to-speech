"use strict";!function(e,t,c){e.AO=e.AO||{};var i=c(t);AO.tinymce={create_editors:function(e){e.each(function(e,t){var i=c(t),n=c.extend({},AO.tinymce.tweak_editor_settings(i.attr("id")),{init_instance_callback:function(e){var t=c(e.editorContainer);t[0]&&t.addClass("wp-editor-container").before('<div id="wp-'.concat(e.id,'-editor-tools" class="wp-editor-tools hide-if-no-js">\n                                    <div id="wp-').concat(e.id,'-media-buttons" class="wp-media-buttons">\n                                    <button type="button" class="button insert-media add_media" data-editor="').concat(e.id,'">\n                                    <span class="wp-media-buttons-icon"></span> Add Media\n                                    </button>\n                                    </div>\n                                </div>'))},min_height:250});"undefined"==typeof tinymce||i.hasClass("tinymce--init")||(tinymce.init(n),i.addClass("tinymce--init").on("mousedown",function(e){e.preventDefault()}))})},destroy_editors:function(e){e.each(function(e,t){var i=c(t),n=tinymce.get(i.attr("id"));i.removeClass("tinymce--init"),n&&(i.val(n.getContent()),n.destroy())})},save_editors:function(e){e.each(function(e,t){var i=c(t);if(i.hasClass("tinymce--init")&&"undefined"!=typeof tinymce){var n=i.closest(".field--editor"),o=i.closest(".field--editor").outerHeight(),d=i.prev(".mce-tinymce").outerHeight(),r=i.prev(".mce-tinymce").width();i.next(".field__cover").height(d).width(r),n.height(o).addClass("tinymce--destroyed"),tinymce.get(i.attr("id")).destroy()}})},restore_editors:function(e){e.each(function(e,t){var i=c(t),n=i.closest(".field--editor");if(n.hasClass("tinymce--destroyed")&&i.hasClass("tinymce--init")&&"undefined"!=typeof tinymce){var o=AO.tinymce.tweak_editor_settings(i.attr("id"));o.min_height=250,tinymce.init(o),i.next(".field__cover").removeAttr("style"),n.removeAttr("style").removeClass("tinymce--destroyed")}})},tweak_editor_settings:function(n){var o={};return c.each(AO.tinymce.initialSettings,function(e,t){var i=t;"string"==typeof t&&(i=t.replace("alchemy-temp-editor",n)),o[e]=i}),o}},c(function(){var e=c(".jsAlchemyEditor");e[0]&&(e=e.filter(function(e,t){return 0===c(t).closest(".repeatee").length}),i.on("tinymce-editor-init",function(){AO.tinymce.create_editors(e)}))}),i.on("alch_repeatee_added",function(e,t){var i=t.repeatee.children(".repeatee__fields").find(".field--editor").find(".jsAlchemyEditor");i[0]&&AO.tinymce.create_editors(i)}),i.on("alch_repeatee_closed",function(e,t){var i=t.repeatee.children(".repeatee__fields").find(".field--editor");i[0]&&(i.find(".wp-editor-tools").remove(),AO.tinymce.destroy_editors(i.find(".jsAlchemyEditor")))}),i.on("alch_repeatee_opened",function(e,t){var i=t.repeatee.children(".repeatee__fields").find(".field--editor");i[0]&&AO.tinymce.create_editors(i.find(".jsAlchemyEditor"))}),AO.get_editor_value=function(e){var t=c("#".concat(e)),i="";return i=t.hasClass("tinymce--init")&&"undefined"!=typeof tinymce?tinymce.get(e).getContent():t.val(),Promise.resolve({type:"editor",id:e,value:i})}}(window,document,jQuery);
//# sourceMappingURL=scripts.min.js.map