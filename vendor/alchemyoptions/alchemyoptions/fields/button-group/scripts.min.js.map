{"version":3,"sources":["fields/button-group/scripts.js"],"names":["window","document","$","AO","$btnGroups","$btnGroup","buttonGroup","$choices","isMultiple","on","data","multiple","this","removeClass","filter","i","el","is","$btn","toggleClass","initialise_button_group","$repeatee","e","find","get_button_group_value","id","$el","concat","value","map","checkbox","get","resolve","type","jQuery"],"mappings":"AAAA,cAEA,SAACA,EAAAC,EAAAC,GACGF,EAAAG,GAAYH,EAAAG,IAAZ,GAEA,IAAMC,EAAaF,EAAE,yBAoBjB,SAAMG,EAANC,GACMC,IAAAA,EAAaL,EAAAI,GACbE,EAAaH,EAAAA,8BAAnBA,GAEUI,EAAYJ,EAAAK,KAAA,WAAAC,SAAtBN,EAAUI,GAAG,QAAS,8BAA+B,WAG3CD,IAAAA,EAAaN,EAAAU,MAEFV,GACVW,EAAYC,OAAA,SAAAC,EAAAC,GAClB,OAAAd,EAAAc,GAAAC,GAAAC,KADML,YAAY,kBAK1BK,EAAAC,YAAA,oBAhCGf,EAAA,IACIgB,EAAAA,KAAAA,SAAAA,EAAAA,GADJA,EAAAJ,KAMAd,EAAAD,GAAMoB,GAAS,sBAAf,SAAAC,EAAAZ,GACMN,IAAAA,EAAaiB,EAAUE,SAAAA,KAAK,yBAG9BnB,EAAgB,IACZgB,EAAAA,KAAAA,SAAAA,EAAwBJ,GAD5BI,EAAAJ,OA2BJb,GAAAqB,uBAAA,SAAAC,GAFA,IAAMC,EAAMxB,EAAC,IAAAyB,OAAKF,IAKTG,EAAOL,GAUZ,OAPGK,EAHKF,EAARhB,KAAA,WAAAC,SAGGe,EAAAH,KAAA,mBAAAM,IAAA,SAAAd,EAAAe,GACKJ,OAASxB,EAAA4B,GAAApB,KAAT,WACXqB,MAEcC,EAAAA,KAAS,mBAAAtB,KAAA,SAGXkB,QAAAA,QAAAA,CAHbK,KAAA,eAbJR,GAAAA,EAmBOxB,MAAUiC,KA3DrB,CA2DGlC,OAAQC,SAAUiC","file":"fields\\button-group\\scripts.min.js","sourcesContent":["\"use strict\";\r\n\r\n(function(window, document, $) {\r\n    window.AO = window.AO || {};\r\n\r\n    const $btnGroups = $('.jsAlchemyButtonGroup');\r\n\r\n    if( $btnGroups[0] ) {\r\n        $btnGroups.each((i, el) => {\r\n            initialise_button_group(el);\r\n        });\r\n    }\r\n\r\n    $(document).on('alch_repeatee_added', function(e, data) {\r\n        const $repeatee = data.repeatee;\r\n        const $btnGroups = $repeatee.find('.jsAlchemyButtonGroup');\r\n\r\n        if( $btnGroups[0] ) {\r\n            $btnGroups.each((i, el) => {\r\n                initialise_button_group(el);\r\n            });\r\n        }\r\n    });\r\n\r\n    function initialise_button_group(buttonGroup) {\r\n        const $btnGroup = $(buttonGroup);\r\n        const $choices = $('.jsAlchemyButtonGroupChoice', $btnGroup);\r\n        const isMultiple = $btnGroup.data('alchemy').multiple;\r\n\r\n        $btnGroup.on('click', '.jsAlchemyButtonGroupChoice', function() {\r\n            const $btn = $(this);\r\n\r\n            if( ! isMultiple ) {\r\n                $choices.filter((i, el) => {\r\n                    return ! $(el).is($btn)\r\n                }).removeClass('button-primary');\r\n            }\r\n\r\n            $btn.toggleClass('button-primary');\r\n        });\r\n    }\r\n\r\n    AO.get_button_group_value = id => {\r\n        const $el = $(`#${id}`);\r\n\r\n        let value = '';\r\n\r\n        if( $el.data('alchemy').multiple ) {\r\n            value = $el.find('.button-primary').map((i, checkbox) => {\r\n                return $(checkbox).data('value');\r\n            }).get();\r\n        } else {\r\n            value = $el.find('.button-primary').data('value');\r\n        }\r\n\r\n        return Promise.resolve( {\r\n            'type': 'button_group',\r\n            'id': id,\r\n            'value': value\r\n        } );\r\n    };\r\n})(window, document, jQuery);"]}