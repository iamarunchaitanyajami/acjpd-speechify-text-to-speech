{"version":3,"sources":["fields/tokens/scripts.js"],"names":["window","document","$","AO","$document","tags","initialise_token_field","select","dropdownParent","$select","siblings","get_tokens_value","on","Promise","resolve","change","ready","$selectBoxes","each","i","e","data","repeatee","id","value","concat","val","jQuery"],"mappings":"AAAA,cAEA,SAACA,EAAAC,EAAAC,GACGF,EAAAG,GAAYH,EAAAG,IAAZ,GAIAC,IAAAA,EAAgBF,EAAAD,GAyBRI,SAAMC,EADMC,GAEZC,IAAAA,EAAkBN,EAAAK,GAGtBE,EAAQC,QAAS,CACbD,MAAY,EADhBD,eAAAN,EAAA,0BAKDS,EAAAA,SAAmB,yBAAMC,GAAA,QAAA,WACjBC,EAAQC,IAAAA,IAASC,WAnC5BX,EAAUY,MAAM,WAGRC,IAAAA,EAAkBf,EAAA,oBAEdI,EAAAA,IADJW,EAAAC,KAAA,SAAAC,EAAAZ,GAGHD,EAAAC,OAGLH,EAAUQ,GAAG,sBAAuB,SAASQ,EAAGC,GAIxCJ,IACAA,EADkBI,EAAAC,SACIf,KAAJ,oBAAlBU,EAAA,IAGHA,EAAAC,KAAA,SAAAC,EAAAZ,GARLD,EAAAC,OAyB4BJ,GAAxBQ,iBAAA,SAAAY,GADJ,OAAAV,QAAAC,QAAA,CAOOb,KA9CX,SA0CYsB,GAAMA,EACNC,MAAStB,EAAC,IAAAuB,OAAKF,IAAMG,SA3CjC,CA8CG1B,OAAQC,SAAU0B","file":"fields\\tokens\\scripts.min.js","sourcesContent":["\"use strict\";\r\n\r\n(function(window, document, $) {\r\n    window.AO = window.AO || {};\r\n\r\n    const $document = $(document);\r\n\r\n    $document.ready(() => {\r\n        const $selectBoxes = $('.jsAlchemyTokens');\r\n\r\n        if( $selectBoxes[0] ) {\r\n            $selectBoxes.each((i, select) => {\r\n                initialise_token_field(select);\r\n            });\r\n        }\r\n    });\r\n\r\n    $document.on('alch_repeatee_added', function(e, data) {\r\n        const $repeatee = data.repeatee;\r\n        const $selectBoxes = $repeatee.find('.jsAlchemyTokens');\r\n\r\n        if( $selectBoxes[0] ) {\r\n            $selectBoxes.each((i, select) => {\r\n                initialise_token_field(select);\r\n            });\r\n        }\r\n    });\r\n\r\n    function initialise_token_field(select) {\r\n        const $select = $(select);\r\n\r\n        $select.select2({\r\n            tags: true,\r\n            dropdownParent: $('.jsAlchemyTempEditor')\r\n        });\r\n\r\n        $select.siblings('.jsAlchemyTokensClear').on('click', () => {\r\n            $select.val(\"\").change();\r\n        });\r\n    }\r\n\r\n    AO.get_tokens_value = id => {\r\n        return Promise.resolve( {\r\n            'type': 'tokens',\r\n            'id': id,\r\n            'value': $(`#${id}`).val()\r\n        } );\r\n    };\r\n})(window, document, jQuery);"]}